sources:
  - name: raw_goldsky
    database: mezo-portal-data
    schema: raw_goldsky
    tables:
      - name: raw_goldsky_musd_trove_manager__liquidation
        description: "Liquidation events from the MUSD Trove Manager"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=liquidation/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=liquidation'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=liquidation/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: vid
            data_type: INT64
            description: "Version ID"
          - name: block
            data_type: INT64
            description: "Block number"
          - name: id
            data_type: STRING
            description: "Unique identifier"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: liquidated_principal
            data_type: BIGNUMERIC
            description: "Liquidated principal amount"
          - name: liquidated_interest
            data_type: BIGNUMERIC
            description: "Liquidated interest amount"
          - name: liquidated_coll
            data_type: BIGNUMERIC
            description: "Liquidated collateral amount"
          - name: coll_gas_compensation
            data_type: BIGNUMERIC
            description: "Collateral gas compensation"
          - name: gas_compensation
            data_type: BIGNUMERIC
            description: "Gas compensation"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_musd_trove_manager__trove_liquidated
        description: "Trove liquidated events from the MUSD Trove Manager"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=trove_liquidated/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=trove_liquidated'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/musd_trove_manager/event_type=trove_liquidated/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: vid
            data_type: INT64
            description: "Version ID"
          - name: block
            data_type: INT64
            description: "Block number"
          - name: id
            data_type: STRING
            description: "Unique identifier"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: borrower
            data_type: STRING
            description: "Borrower address"
          - name: debt
            data_type: BIGNUMERIC
            description: "Debt amount"
          - name: coll
            data_type: BIGNUMERIC
            description: "Collateral amount"
          - name: operation
            data_type: STRING
            description: "Operation type"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_borrower_operations_mezo__trove_updated
        description: "Trove updated events from Borrower Operations"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/borrower_operations_mezo/event_type=trove_updated/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/borrower_operations_mezo/event_type=trove_updated'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/borrower_operations_mezo/event_type=trove_updated/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: block
            data_type: INT64
            description: "Block number"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: borrower
            data_type: STRING
            description: "Borrower address"
          - name: principal
            data_type: BIGNUMERIC
            description: "Principal amount"
          - name: interest
            data_type: BIGNUMERIC
            description: "Interest amount"
          - name: coll
            data_type: BIGNUMERIC
            description: "Collateral amount"
          - name: stake
            data_type: BIGNUMERIC
            description: "Stake amount"
          - name: interest_rate
            data_type: BIGNUMERIC
            description: "Interest rate"
          - name: last_interest_update_time
            data_type: BIGNUMERIC
            description: "Last interest update time"
          - name: operation
            data_type: STRING
            description: "Operation type"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_market_mezo__donated
        description: "Donation events from Market"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=donated/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=donated'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=donated/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: block
            data_type: INT64
            description: "Block number"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: donor
            data_type: STRING
            description: "Donor address"
          - name: beneficiary_id
            data_type: STRING
            description: "Beneficiary identifier"
          - name: recipient
            data_type: STRING
            description: "Recipient address"
          - name: amount
            data_type: BIGNUMERIC
            description: "Donation amount"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_market_mezo__order_placed
        description: "Order placed events from Market"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=order_placed/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=order_placed'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/market_mezo/event_type=order_placed/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: block
            data_type: INT64
            description: "Block number"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: order_id
            data_type: STRING
            description: "Order identifier"
          - name: customer
            data_type: STRING
            description: "Customer address"
          - name: product_id
            data_type: STRING
            description: "Product identifier"
          - name: price
            data_type: BIGNUMERIC
            description: "Price amount"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_mezo_bridge_mainnet__assets_locked
        description: "Assets locked events from Mezo Bridge"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_bridge_mainnet/event_type=assets_locked/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_bridge_mainnet/event_type=assets_locked'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_bridge_mainnet/event_type=assets_locked/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: block
            data_type: INT64
            description: "Block number"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: sequence_number
            data_type: BIGNUMERIC
            description: "Sequence number"
          - name: recipient
            data_type: STRING
            description: "Recipient address"
          - name: token
            data_type: STRING
            description: "Token address"
          - name: amount
            data_type: BIGNUMERIC
            description: "Amount locked"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"

      - name: raw_goldsky_mezo_vaults_mezo__transfer
        description: "Transfer events from Mezo Vaults"
        external:
          location: "gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_vaults_mezo/event_type=transfer/"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_vaults_mezo/event_type=transfer'
            uris: ["gs://mezo-prod-dp-dwh-lnd-goldsky-cs-0/mezo_vaults_mezo/event_type=transfer/*"]
          partitions:
            - name: event_date
              data_type: date
              description: "The date of the event"
        columns:
          - name: block
            data_type: INT64
            description: "Block number"
          - name: block_number
            data_type: BIGNUMERIC
            description: "Block number as BIGNUMERIC"
          - name: timestamp
            data_type: BIGNUMERIC
            description: "Timestamp of the event"
          - name: transaction_hash
            data_type: STRING
            description: "Transaction hash"
          - name: contract_id
            data_type: STRING
            description: "Contract identifier"
          - name: from
            data_type: STRING
            description: "Sender address"
          - name: to
            data_type: STRING
            description: "Recipient address"
          - name: value
            data_type: BIGNUMERIC
            description: "Transfer amount"
          - name: _gs_chain
            data_type: STRING
            description: "Chain identifier"
          - name: _gs_gid
            data_type: STRING
            description: "Global identifier"
          - name: event_date
            data_type: DATE
            description: "Date of the event"
