version: 2
models:
  - name: fct_orders
    description: Fact table for orders.
    columns:
      - name: id
        data_type: STRING
        tests:
          - not_null
          - unique
        config:
          meta: {}
          tags: []
        description: Unique identifier for the order record.
      - name: fk__dim1_users
        data_type: STRING
        tests:
          - not_null
          - relationships:
              field: canonical_segment_id
              to: ref('dim1_users')
        config:
          meta: {}
          tags: []
        description: Foreign key to Users dimension (Canonical Segment ID). Links the order to a unified user profile.
      - name: fk_transaction_hash
        data_type: STRING
        config:
          meta: {}
          tags: []
        description: Hash of the transaction in which the order was placed.
      - name: fk__dim1_products
        data_type: STRING
        tests:
          - not_null
          - relationships:
              field: id
              to: ref('dim1_products')
        config:
          meta: {}
          tags: []
        description: Foreign key to Products dimension. Identifies the product associated with the order.
      - name: price
        data_type: NUMERIC
        config:
          meta: {}
          tags: []
        description: Price of the order, expressed in normalized currency.
      - name: order_count
        data_type: INT64
        config:
          meta: {}
          tags: []
        description: Number of orders represented in this record.
      - name: record_date
        data_type: DATE
        config:
          meta: {}
          tags: []
        description: Date of the record, used for time-based analysis.
